// =============================================================================
// Auto-Generated Tauri Bindings
// =============================================================================
// This file simulates the auto-generated TypeScript bindings that Tauri
// generates from Rust types using tauri-specta or similar tools.
//
// DO NOT EDIT THIS FILE MANUALLY - it would be overwritten by the generator.
// =============================================================================

// =============================================================================
// Domain Types (Generated from Rust structs)
// =============================================================================

/** User entity - Generated from `User` struct */
export interface User {
  id: number;
  name: string;
  email: string;
  createdAt: string;
}

/** Input for creating a user - Generated from `CreateUserInput` struct */
export interface CreateUserInput {
  name: string;
  email: string;
}

/** Input for updating a user - Generated from `UpdateUserInput` struct */
export interface UpdateUserInput {
  id: number;
  name?: string;
  email?: string;
}

/** Health check response - Generated from `HealthResponse` struct */
export interface HealthResponse {
  status: string;
  version: string;
}

/** Generic success response - Generated from `SuccessResponse` struct */
export interface SuccessResponse {
  success: boolean;
  message?: string;
}

// =============================================================================
// Subscription Types (Generated from Rust structs)
// =============================================================================

/** Counter subscription input - Generated from `CounterInput` struct */
export interface CounterInput {
  start?: number;
  maxCount?: number;
  intervalMs?: number;
}

/** Counter event - Generated from `CounterEvent` struct */
export interface CounterEvent {
  count: number;
  timestamp: string;
}

/** Chat room subscription input - Generated from `ChatRoomInput` struct */
export interface ChatRoomInput {
  roomId: string;
}

/** Chat message event - Generated from `ChatMessage` struct */
export interface ChatMessage {
  id: string;
  roomId: string;
  userId: string;
  text: string;
  timestamp: string;
}

/** Send message input - Generated from `SendMessageInput` struct */
export interface SendMessageInput {
  roomId: string;
  text: string;
}

/** Stock subscription input - Generated from `StockInput` struct */
export interface StockInput {
  symbols: string[];
}

/** Stock price event - Generated from `StockPrice` struct */
export interface StockPrice {
  symbol: string;
  price: number;
  change: number;
  changePercent: number;
  timestamp: string;
}

// =============================================================================
// Command Types (Generated from Tauri commands)
// =============================================================================

/** Greet input - Generated from `greet` command */
export interface GreetInput {
  name: string;
}

/** Get user input - Generated from `get_user` command */
export interface GetUserInput {
  id: number;
}

/** Delete user input - Generated from `delete_user` command */
export interface DeleteUserInput {
  id: number;
}

/** Chat history input - Generated from `chat_history` command */
export interface ChatHistoryInput {
  roomId: string;
  limit?: number;
}

// =============================================================================
// Event Types (Generated from Tauri events)
// =============================================================================

export type EventPayload<T> = {
  payload: T;
};

export const Events = {
  COUNTER_TICK: "counter:tick",
  STOCK_UPDATE: "stock:update",
  CHAT_MESSAGE: "chat:message",
  TIME_UPDATE: "time:update",
} as const;

export type EventName = (typeof Events)[keyof typeof Events];

// =============================================================================
// Type Utilities
// =============================================================================

/** Extract the return type of a command */
export type CommandReturn<T extends (...args: unknown[]) => Promise<unknown>> =
  Awaited<ReturnType<T>>;

/** Extract the input type of a command */
export type CommandInput<T extends (input: unknown) => Promise<unknown>> =
  Parameters<T>[0];

// =============================================================================
// RPC Contract (Generated from Rust router definition)
// =============================================================================

/**
 * Application RPC Contract - Generated from Rust router macros.
 *
 * This contract defines all available procedures (queries, mutations,
 * subscriptions) and their input/output types for type-safe RPC calls.
 */
export interface AppContract {
  health: { type: "query"; input: void; output: HealthResponse };
  greet: { type: "query"; input: { name: string }; output: string };

  user: {
    get: { type: "query"; input: { id: number }; output: User };
    list: { type: "query"; input: void; output: User[] };
    create: { type: "mutation"; input: CreateUserInput; output: User };
    update: { type: "mutation"; input: UpdateUserInput; output: User };
    delete: {
      type: "mutation";
      input: { id: number };
      output: SuccessResponse;
    };
  };

  stream: {
    counter: {
      type: "subscription";
      input: CounterInput;
      output: CounterEvent;
    };
    stocks: { type: "subscription"; input: StockInput; output: StockPrice };
    chat: { type: "subscription"; input: ChatRoomInput; output: ChatMessage };
    time: { type: "subscription"; input: void; output: string };
  };

  chat: {
    send: { type: "mutation"; input: SendMessageInput; output: ChatMessage };
    history: {
      type: "query";
      input: { roomId: string; limit?: number };
      output: ChatMessage[];
    };
  };
}

/** Subscription paths for the contract */
export const SUBSCRIPTION_PATHS = [
  "stream.counter",
  "stream.stocks",
  "stream.chat",
  "stream.time",
] as const;
